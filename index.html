<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>酷炫霓虹横版问答游戏</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background: black;
    font-family: system-ui, sans-serif;
    color: white;
    overflow: hidden;
  }
  canvas { display: block; width: 100vw; height: 100vh; background: black; }
  .panel {
    position: absolute;
    left: 50%;
    bottom: 20px;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.6);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 10px;
    padding: 10px;
    width: 90%;
    max-width: 600px;
  }
  .q { font-weight: bold; margin-bottom: 10px; font-size: 1.2em; }
  .choices {
    display: flex; gap: 10px;
  }
  button.choice {
    flex: 1;
    padding: 10px;
    font-size: 1em;
    background: #111;
    color: #0ff;
    border: 1px solid #0ff;
    border-radius: 6px;
    cursor: pointer;
  }
  button.choice:hover {
    background: #0ff;
    color: black;
  }
</style>
</head>
<body>
<canvas id="game"></canvas>
<div class="panel">
  <div class="q" id="question">你是好人吗？</div>
  <div class="choices">
    <button class="choice" id="c1">是，我是好人</button>
    <button class="choice" id="c2">不是，我不是好人</button>
  </div>
</div>
<script>
// 霓虹背景
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

const NODES = {
  start: { text: '你是好人吗？', good: {label: '是，我是好人', next: 'g1'}, bad: {label: '不是，我不是好人', next: 'b1'} },
  g1: { text: '作为好人，你做过坏事吗？', good: {label: '有', next: 'end'}, bad: {label: '没有', next: 'end'} },
  b1: { text: '作为坏人，你做过好事吗？', good: {label: '有', next: 'end'}, bad: {label: '没有', next: 'end'} },
  end: { text: '游戏结束', good: {label: '重新开始', next: 'start'}, bad: {label: '重新开始', next: 'start'} }
};

let current = NODES.start;

// 主角
let player = {x: 100, y: canvas.height/2, r: 15};

// 动画星空
let stars = Array.from({length: 100}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*2+1
}));

function drawBackground(){
  ctx.fillStyle = "black";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.strokeStyle = "rgba(0,255,255,0.3)";
  for(let i=0;i<stars.length;i++){
    ctx.beginPath();
    ctx.arc(stars[i].x, stars[i].y, stars[i].r, 0, Math.PI*2);
    ctx.fillStyle = "#0ff";
    ctx.fill();
  }
}

function drawPlayer(){
  ctx.shadowBlur = 20;
  ctx.shadowColor = "#0ff";
  ctx.fillStyle = "#0ff";
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.r, 0, Math.PI*2);
  ctx.fill();
  ctx.shadowBlur = 0;
}

function loop(){
  drawBackground();
  drawPlayer();
  requestAnimationFrame(loop);
}
loop();

function setPanel(node){
  document.getElementById('question').textContent = node.text;
  document.getElementById('c1').textContent = node.good.label;
  document.getElementById('c2').textContent = node.bad.label;
}

function moveAndLoad(choice){
  current = NODES[current[choice].next];
  setPanel(current);
}

document.getElementById('c1').addEventListener('click', ()=>moveAndLoad('good'));
document.getElementById('c2').addEventListener('click', ()=>moveAndLoad('bad'));
document.getElementById('c1').addEventListener('touchstart', ()=>moveAndLoad('good'));
document.getElementById('c2').addEventListener('touchstart', ()=>moveAndLoad('bad'));

setPanel(current);
</script>
</body>
</html>
